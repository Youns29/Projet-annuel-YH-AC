{% extends 'base.html.twig' %}

{% block title %}Facture{% endblock %}
{% block body %}
<style>
h1, h4, p, li {
    color: white;
}
</style>
    {% include "_partials/_nav.html.twig" %}
    <div class="container mt-5">
        <h1>Onglet Facture</h1>
        
        <!-- Onglets -->
        <ul class="nav nav-tabs">
            <li class="nav-item">
                <a class="nav-link active" id="latest-tab" data-toggle="tab" href="#latest">Dernière Facture</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" id="all-tab" data-toggle="tab" href="#all">Toutes les Factures</a>
            </li>
        </ul>
        
        <!-- Contenu des onglets -->
        <div class="tab-content mt-3">
            <div class="tab-pane fade show active" id="latest">
                <h4>Dernière Facture</h4>
                <!-- Afficher le contenu de la dernière facture -->
                <p>Numéro de Facture : {{ latestInvoice.invoiceNumber }}</p>
                <p>Date de Facture : {{ latestInvoice.invoiceDate|date('d/m/Y') }}</p>
                <p>Montant Total : {{ latestInvoice.totalAmount }} €</p>
                <!-- Ajoutez d'autres informations de facture selon votre modèle de données -->
                {# <a href="{{ path('your_download_route', {'id': latestInvoice.id}) }}" target="_blank">Télécharger la dernière facture</a> #}
            </div>
            <div class="tab-pane fade" id="all">
                <h4>Toutes les Factures</h4>
                <!-- Afficher la liste de toutes les factures -->
                <ul>
                    {% for invoice in allInvoices %}
                        <li>
                            Numéro de Facture : {{ invoice.invoiceNumber }}
                            Date de Facture : {{ invoice.invoiceDate|date('d/m/Y') }}
                            Montant Total : {{ invoice.totalAmount }} €
                            <!-- Ajoutez d'autres informations de facture selon votre modèle de données -->
                <a href="{{ path('invoice_pdf', {'id': invoice.id}) }}" target="_blank">Visualiser le PDF</a>
                        </li>
                    {% endfor %}
                </ul>
            </div>
        </div>
    </div>
    
    <!-- Scripts Bootstrap -->
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.3/dist/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
{% endblock %}
